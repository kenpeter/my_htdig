<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
  <head>
	<title>
	  ht://Dig: htsearch
	</title> 
        <link rel="stylesheet" href="htdig.css">
  </head>
  <body bgcolor="#eef7ff">
	<h1>
	  htsearch
	</h1>
	<p>
	  ht://Dig Copyright &copy; 1995-2002 <a href="THANKS.html">The ht://Dig Group</a><br>
	  Please see the file <a href="COPYING">COPYING</a> for
	  license information.
	</p>
	<hr size="4" noshade>
	<h2>
	  HTML Form
	</h2>
	<p>
	  The primary interface to htsearch is through an HTML form.
	  When the form is submitted, the htsearch program will take
	  values from the form and perform the actual search. The
	  search can be modified in many ways with either hidden input
	  fields or other HTML form tags. Study the examples to get a
	  feel of what things are possible.
	</p>
	<p>
	  The HTML form is expected to contain at least an input text
	  field named <b>words</b>. This is where the user will enter
	  the search words. This may also include the wildcard '*'
	  which matches all documents, potentially as restricted or
	  modified by other search fields. Other values are also
	  recognized but have appropriate defaults in case they are
	  not used:
	</p>
	<dl>
	  <dt>
		<b>config</b>
	  </dt>
	  <dd>
		Specifies the name of the configuration file. The name here
		is the name without the path and without the <i>.conf</i>
		at the end. This file is assumed to be located in the
		CONFIG_DIR directory. Periods are <b>not</b> allowed in this
		field for security reasons (to prevent HTML authors from
		pointing all around at your files).<br>
		The default is <i>htdig</i>
	  </dd>
	  <dt>
		<b>exclude</b>
	  </dt>
	  <dd>
                This value is a pattern that specifies which URLs are to be
                excluded from the search results. If a URL matches one of
                these patterns it is discarded. Multiple patterns can be
                given, separated by a bar ("|"), or multiple definitions
                of the exclude input parameter can be given.<br>
                 The default is specified by the <i>exclude</i>
                attribute in the configuration file.
	  </dd>
	  <dt>
		<b>format</b>
	  </dt>
	  <dd>
		This specifies the name of the template to display the
		search results in. There are two builtin templates named
		<i>builtin-long</i> and <i>builtin-short</i> which can be
		used, but any number of custom templates can also be
		defined. Find out more about the templates in the
		<a href="hts_templates.html">Output Templates</a> section.<br>
		 The <i>format</i> value can be specified as either a
		hidden input field or a drop down menu.<br>
		 The default is specified by the <i>template_name</i>
		attribute in the configuration file.
	  </dd>
	  <dt>
		<b>keywords</b>
	  </dt>
	  <dd>
		Used to specify a list of required words that have to be in
		the documents. This list of words is added to the normal
		<i>words</i> value using logical "and"s.<br>
		 An example use for this value is to make it a drop down
		menu with a limited set of predetermined categories or
		keywords to restrict the search. This can be very useful
		for very structured pages.
		<br>Note that the words may appear anywhere in the document.
		The scope of these required words is <b>not</b> limited to
		words in META tags with the "keywords" or "htdig-keywords"
		property, despite what the parameter name may suggest.
	  </dd>
	  <dt>
		<b>matchesperpage</b>
	  </dt>
	  <dd>
		Specifies how many matches will be displayed on each page
		of results.<br>
		 The default is specified by the <i>matches_per_page</i>
		attribute in the configuration file. Since this value has
		to be a number, it either needs to be set using a hidden
		input field or a with a drop down menu.
	  </dd>
	  <dt>
		<b>method</b>
	  </dt>
	  <dd>
		This can be one of <i>and</i>, <i>or</i>, or <i>
		boolean</i>. It determines what type of search will be
		performed.<br>
		 The default is specified by the <i>match_method</i>
		attribute in the configuration file. It is quite useful to
		make this item a drop down menu so the user can select the
		type of search at search time.
	  </dd>
	  <dt>
		<b>page</b>
	  </dt>
	  <dd>
		This should normally not be used. It is generated by the
		paged results display.
	  </dd>
	  <dt>
		<b>restrict</b>
	  </dt>
	  <dd>
                This value is a pattern that all URLs of the search results
                will have to match. This can be used to restrict the search
                to a particular subtree or subsection of a bigger database.
                Multiple patterns can be given, separated by a bar ("|"), or
                multiple definitions of the restrict input parameter can be
                given. Any URL in the search results will have to match at
                least one of these patterns.<br>
                Note that the restrict list does not take precedence over the
                exclude list - if a URL matches patterns in both lists it is
                still excluded from the search results.<br>
                The default is specified by the <i>restrict</i>
                attribute in the configuration file.
	  </dd>
	  <dt>
		<b>sort</b>
	  </dt>
	  <dd>
		This can be one of <i>score</i>, <i>time</i>, <i>date</i>,
		<i>title</i>, <i>revscore</i>, <i>revtime</i>, <i>revdate</i>,
		or <i>revtitle</i>. It determines what type of sort will be
		performed on the search results. The types <i>time</i> and
		<i>date</i> are synonymous, as are <i>revtime</i> and
		<i>revdate</i>, as all four sort on the time that the
		documents were last modified, if this information is given
		by the server.
		The sort methods that begin with <i>rev</i> simply reverse
		the order of the sort.<br>
		 The default is specified by the <i>sort</i>
		attribute in the configuration file. It is quite useful to
		make this item a drop down menu so the user can select the
		type of sort at search time.
	  </dd>
	  <dt>
		<b>startyear</b>, <b>startmonth</b>, <b>startday</b>,
		<b>endyear</b>, <b>endmonth</b>, <b>endday</b>
	  </dt>
	  <dd>
		These values specify the allowed range of document
		modification dates allowed in the search results.
		They can be used to restrict the search
		to particular "ages" of documents, new or old.<br>
		 The default is the full range of documents in the database.
		These values can also be specified by configuration attributes
		of the same names in the configuration file.
		If a negative number is given for any of these, it is taken
		as relative to the current year, month or day.
	  </dd>
	</dl>
	<hr size="4" noshade>

Last modified: $Date: 2002/01/27 05:33:20 $

  </body>
</html>
